webpackJsonp([0,2],[,,function(t,e,o){"use strict";var n=o(1),i=o.n(n),a=o(14),c=o.n(a);i.a.use(c.a),e.a=new c.a({routes:[{path:"/",name:"Home",component:o(10)},{path:"/commodity",name:"Commodity",component:o(9)}]})},function(t,e,o){o(8);var n=o(0)(o(4),o(13),null,null);t.exports=n.exports},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{addCommodity:function(){var t=AV.Object.extend("Commodity"),e=new t;e.set("name","曼陀罗"),e.set("price",6357),e.save().then(function(t){console.log(t)},function(t){console.error(t)})},addCommodityMaterialMap:function(){var t={},e={},o=new AV.Query("Commodity");o.get("58ae88308fd9c50063c2200f").then(function(n){t=n,o.get("58ac59ee8fd9c50067fcf9f8").then(function(o){e=o;var n=AV.Object.extend("CommodityMaterialMap"),i=new n;i.set("commodity",t),i.set("material",e),i.set("quantity",6),i.save().then(function(t){console.log(t)},function(t){console.error(t)})})})}}}},function(t,e,o){"use strict";function n(t,e,o){for(var n=0;n<t.length;n++)if(t[n][e]===o)return!0;return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{best_commodities:[]}},mounted:function(){this.queryManual()},methods:{queryManual:function(){var t=this,e=new AV.Query("CommodityMaterialMap");e.include("commodity"),e.include("material"),e.find().then(function(e){e.map(function(e){var o=e.toJSON();if(o.commodity=e.get("commodity").toJSON(),o.material=e.get("material").toJSON(),n(t.best_commodities,"objectId",o.commodity.objectId)){var i=t.best_commodities[t.best_commodities.length-1];i.material_cost+=o.material.price*o.quantity,i.materials.push(o.material)}else{var a=o.commodity;a.materials=[o.material],a.material_cost=o.material.price*o.quantity,t.best_commodities.push(a)}})})}}}},function(t,e){},function(t,e){},function(t,e,o){var n=o(0)(o(5),o(11),null,null);t.exports=n.exports},function(t,e,o){o(7);var n=o(0)(o(6),o(12),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"commidity"},[o("button",{on:{click:t.addCommodity}},[t._v("Add commodity")]),t._v(" "),o("br"),t._v(" "),o("button",{on:{click:t.addCommodityMaterialMap}},[t._v("Add commodity material map")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"home page"},t._l(t.best_commodities,function(e){return o("div",{staticClass:"card-commodity"},[o("h2",{staticClass:"commodity-name"},[t._v(t._s(e.name))]),t._v(" "),o("div",{staticClass:"commodity-info"},[o("div",[t._v("售价: "),o("em",[t._v(t._s(e.price))])]),t._v(" "),o("div",[t._v("利润: "),o("em",[t._v(t._s((e.price-e.material_cost-.1*e.price).toFixed(0)))])]),t._v(" "),o("div",[t._v("利率: "),o("em",[t._v(t._s(((e.price-e.material_cost-.1*e.price)/e.price*100).toFixed(1)))]),t._v("%\n      ")])])])}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},staticRenderFns:[]}},,,,function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(1),i=o.n(n),a=o(3),c=o.n(a),r=o(2);new i.a({el:"#app",router:r.a,template:"<App/>",components:{App:c.a}})}],[17]);
//# sourceMappingURL=app.c3525414a0f32538067b.js.map